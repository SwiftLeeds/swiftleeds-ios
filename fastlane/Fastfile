default_platform(:ios)

# Workaround for CI terminal size detection issue
if ENV['CI']
  ENV['FASTLANE_XCODEBUILD_SETTINGS_TIMEOUT'] = '180'
  ENV['FASTLANE_XCODE_LIST_TIMEOUT'] = '180'
end

platform :ios do
  desc "Build SwiftLeeds scheme"
  lane :build do |options|
    build_app(
      project: "SwiftLeeds.xcodeproj",
      configuration: options[:configuration],
      scheme: "SwiftLeeds",
      clean: true,
      skip_archive: true,
      skip_codesigning: true
    )
  end
  
  desc "Build SwiftLeeds scheme with Debug Configuration"
  lane :build_debug do
    build(configuration: 'Debug')
  end
end
